<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="Ghost" />
    <meta name="theme-color" content="#e9a40e" />
    <meta name="description" content="A Pretty Cool Site :D" />
    <link
      rel="shortcut icon"
      id="favicon"
      href="/assets/img/classroom.png"
      type="image/png"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="/assets/styles.css" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-WFWKKRRXLT"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-WFWKKRRXLT");
    </script>
    <title>Classes</title>
    <script src="/assets/js/astro.js"></script>
    <script src="/assets/script.js"></script>
    <script src="/uv/atom.js" defer></script>
    <script src="/uv/liftoff.js" defer></script>
  </head>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
    * {
      font-family: "Be Vietnam Pro";
    }
    body {
      background: linear-gradient(135deg, #1e1e2e, #534158);
      overflow: hidden;
      margin: 0;
    } 

  .input {
    width: 50%;
    height: 15px;
    background-color: #2F2F35;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px;
    margin-top: 3px !important;
    font-family: "Be Vietnam Pro", sans-serif;
    display: inline;
}


    /* big meowmeowm okemoqwpomemwmeowmoqfnfdngjdfsng */
  </style>
  <body>

    <button class="barbutton" id="barButton" onclick="openTopbar()"><span class="material-symbols-outlined">arrow_downward</span></button>
    <!--Topbar container-->
    <!--NOT THE CHATGPT NOTES! :sob:-->
    <div class="topbar" id="topbar" style="color: black;">
      <div class="topbar-content">
        <button class="topbtn" id="topbttn" onclick="closeTopbar()">
          <span class="material-symbols-outlined" style="color: white;"> arrow_upward </span>
        </button>
        
        <button class="topbtn" id="panelbttn" onclick="openswitchpanel()">
          <span class="material-symbols-outlined" style="color: white;"> page_info </span>
        </button>
        
      <button class="topbtn" id="fwdbttn" onclick="forward()" style="left: 10px;">
        <span class="material-symbols-outlined" style="color: white;"> arrow_forward </span>
      </button>
      <button class="topbtn" id="rfshbttn" onclick="refresh()" style="left: 30px;">
        <span class="material-symbols-outlined" style="color: white;"> refresh </span>
      </button>
      <button class="topbtn" id="bckbttn" onclick="back()" style="left: 30px;">
        <span class="material-symbols-outlined" style="color: white;"> arrow_back </span>
      </button>
      <button class="topbtn" id="bckbttn" onclick="home()" style="left: 30px;">
        <span class="material-symbols-outlined" style="color: white;"> home </span>
      </button>
      <input type="text" class="input" id="forminput" placeholder="Search Or Enter A URL..">
    </div>
    </div>
    <div class="hiddenuvpanel" id="uvpanel">
      <button class="copybttn" id="copybttn" onclick="copyurl()">Copy URL</button>
      <button class="topbtn" id="opbttn" onclick="op()" style="left: 30px; margin-top: 10px;">
        <span class="material-symbols-outlined"> open_in_new </span>
      </button>
    </div>
    <iframe class="mainiframe" id="frame" style="background-color: #1e1e2e;"></iframe>
  </body>
  <!--JANK JS!!!! -->
  <script>
    //never using prettier on this ever again :sob:
const frame = document.getElementById("frame");
const form = document.getElementById('forminput')
const topbar = document.getElementById('topbar')
localStorage.setItem("nav", "0");
const nav = document.getElementById("topbar");
const navbttn = document.getElementById("navbttn1");
const uvurl = localStorage.getItem("url");
const spanel = document.getElementById('spanel');
const panelbttn = document.getElementById("panelbttn");
const uvpanel = document.getElementById('uvpanel');
const panel2bttn = document.getElementById('pnlbttn');
const url = localStorage.getItem("url");
const input = document.querySelector(".search");
const stockSWv2 = "/uv/sw.js";
const barbutton = document.getElementById('barButton')
const iframe = document.getElementById('frame')

document.addEventListener("DOMContentLoaded", (event) => {
  LoadURL();
});

function closeTopbar() {
  iframe.classList.remove('mainframe')
  iframe.classList.add('iframe')
topbar.classList.remove('topbar')
topbar.classList.add('hiddenbar')
barbutton.classList.remove('barbutton')
barbutton.classList.add('showbutton')
}

function home() {
  window.location.href = '/'
}

function openTopbar() {
  barbutton.classList.remove('showbutton')
  barbutton.classList.add('barbutton')
  iframe.classList.remove('iframe')
  iframe.classList.add('mainframe')
topbar.classList.remove('hiddenbar')
topbar.classList.add('topbar')
}

function copyurl() {
  const copybttn = document.getElementById('copybttn')
  navigator.clipboard.writeText(frame.src);
  copybttn.textContent = 'Copied!'
  setTimeout("copybttn.textContent = 'Copy URL'", 3000);
}

function refresh() {
    iframe.src = frame.src;
  }
  
  function back() {
    iframe.contentWindow.history.back();
  }
  
  function forward() {
    iframe.contentWindow.history.forward();
  }

  //jank!!!


function setURL() {
  frame.contentWindow.window.open = function (url, windowName, windowFeatures) {
    iframe.src = '/uv/service/ghost/' + __uv$config.encodeUrl(url)
  }
  if(document.activeElement === document.getElementById('forminput')) {
    }else {
const geturl = frame.contentWindow.location.href
const removedUrl = geturl.replace("https://" + location.hostname + "/uv/service/ghost/", "")
form.value = __uv$config.decodeUrl(removedUrl);
localStorage.setItem("url", frame.src); 
    }
}

setInterval(function() { setURL() }, 3000);

function LoadURL() {
  frame.src = url
}

function openswitchpanel() {
  uvpanel.classList.remove('hiddenuvpanel')
  uvpanel.classList.add('uvpanel')
  panelbttn.setAttribute("onclick", "closeswitchpanel()");
}

function closeswitchpanel() {
  uvpanel.classList.remove('uvpanel')
  uvpanel.classList.add('hiddenuvpanel')
  panelbttn.setAttribute("onclick", "openswitchpanel()");
}

function op() {
var win = window.open();
var url = "/q/";
var iframe = win.document.createElement("iframe");
iframe.style.position = "fixed";
iframe.style.top = 0;
iframe.style.bottom = 0;
iframe.style.left = 0;
iframe.style.right = 0;
iframe.style.border = "none";
iframe.style.outline = "none";
iframe.style.width = "100%";
iframe.style.height = "100%";
iframe.src = url;

win.document.body.appendChild(iframe);
}
  </script>
</html>
